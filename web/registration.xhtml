<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Реєстрація користувача</title>
        <h:outputStylesheet  name="css/registration.css" />
    </h:head>
    <h:body>
        <f:metadata>
            <!-- Нужно для проверки на боты. При загрузке стр. инициализ. цифры -->
            <f:viewAction action="#{registerView.generateChecks()}" />
        </f:metadata>

        <h:form>
            <!-- register a PostValidateEvent -->
            <f:event listener="#{registerView.validatePassword}"
                     type="postValidate" />
            <f:event listener="#{registerView.validateCheckBot}"
                     type="postValidate" />
            <h3>Create new account</h3>
            <h:panelGrid columns="2">
                <h:outputLabel for="username">Name:</h:outputLabel>
                <h:inputText id="username" value="#{registerView.username}" required="true"
                             requiredMessage="Please enter your name" maxlength="30">
                    <f:validator validatorId="uk.tryzub.validators.LoginValidator"/>
                </h:inputText>
                <h:message for="username" style="color:red" />     <!--message for username from validator-->


                <h:outputLabel for="email">E-Mail:</h:outputLabel>
                <h:inputText id="email" value="#{registerView.email}" required="true"
                             requiredMessage="Please enter your e-mail address">
                    <f:validator validatorId="emailValidator" />
                </h:inputText>
                <h:message for="email" style="color:red" /> 



                <h:outputLabel for="password">Password:</h:outputLabel>
                <h:inputSecret id="password" value="#{registerView.password}"
                               required="true" requiredMessage="Please enter password">
                    <f:validator validatorId="uk.tryzub.validators.PasswordValidator" />
                </h:inputSecret>
                <h:message for="password" style="color:red" /> 

                <h:outputLabel for="confirmpassword">Confirm password:</h:outputLabel>
                <h:inputSecret id="confirmpassword"
                               value="#{registerView.confirmPassword}" required="true"
                               requiredMessage="Please confirm your password">
                </h:inputSecret>
                <h:message for="confirmpassword" style="color:red" /> 



                <h:outputLabel for="chooseSex">Виберіть Вашу стать:</h:outputLabel>
                <p><p:inputSwitch id="chooseSex" value="#{registerView.sex}" onLabel="Чоловіча" offLabel="Жіноча"/></p>


                <div id="defence">
                    <p><h:outputText value="Захист:"/></p>

                    <p><p:outputLabel value="Перевірка на програму-бот" styleClass="edit-title"/><br/></p>

                    #{registerView.a} + #{registerView.b} =
                    <p:inputText id="inputUserBot" value="#{registerView.answer}"  maxlength="2" required="true"
                             requiredMessage="Введіть суму" styleClass="edit-field"/>
                    <h:message for="inputUserBot" style="color:red" /> 



                    <p><h:outputText value="Перевірка на москаля" styleClass="edit-title"/><br/></p>


                    <p><h:outputText value="Введіть назву держави" styleClass="edit-title"/><br/></p>
                    <h:outputLabel value="Крим - це " styleClass="edit-title"/><br/>
                    <p:inputText id="inputUserCountry"   styleClass="edit-field"/>

                    <p><h:outputText value="Введіть назву міста" styleClass="edit-title"/><br/></p>
                    <h:outputLabel value="Русь було освячено у місті " styleClass="edit-title"/><br/>
                    <p:inputText id="inputUserCit"   styleClass="edit-field"/>

                    <p><h:outputText value="Введіть призвіще" styleClass="edit-title"/><br/></p>
                    <h:outputLabel value="Український гетьман, що брав в облогу Москву - це " styleClass="edit-title"/><br/>
                    <p:inputText id="inputUserHetman"   styleClass="edit-field"/>

                </div>
                <!-- Крим це:   Русь було освящено в місті:  Який клуб найбільше ставав чемпіоном СРСР:  -->





                <h:commandButton action="#{registerView.register}" value="Register"></h:commandButton>
            </h:panelGrid>
        </h:form>
        <br />
        <br />
        <h:link value="I already have an account" outcome="signin" />
    </h:body>
</html>